(()=>{"use strict";function e(){const e=setInterval((()=>{const i=document.querySelector("#bodycontainer > div > div.gr-mainContentContainer > main > div.homeSecondaryColumn > section:nth-child(2) > div");if(i){console.log("Reading challenge trouvé. Suppression..."),i.style.display="none";const t=document.querySelector("#bodycontainer > div > div.gr-mainContentContainer > main > div.homeTertiaryColumn > section:nth-child(3)");t&&t.remove(),clearInterval(e)}}),100)}new MutationObserver((()=>{const e=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div.BookPage__gridContainer > div.BookPage__leftColumn > div > div.BookActions > div:nth-child(2) > div"),i=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div.BookPage__gridContainer > div.BookPage__rightColumn > div.BookPage__mainContent > div.BookPageMetadataSection > div.BookPageMetadataSection__mobileBookActions > div > div:nth-child(2) > div");e&&e.setAttribute("style","display: none !important; visibility: hidden !important;"),i&&i.setAttribute("style","display: none !important; visibility: hidden !important;")})).observe(document.body,{childList:!0,subtree:!0}),new MutationObserver((()=>{const e=document.querySelectorAll("article.CollectionCard"),i=document.querySelectorAll("div.cell"),t=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div.BookPage__gridContainer > div.BookPage__rightColumn > div.BookPage__mainContent > div.BookPageMetadataSection > div.SocialSignalsSection > div");t&&(t.style.display="none",document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div.BookPage__gridContainer > div.BookPage__rightColumn > div.BookPage__mainContent > div.BookPageMetadataSection > hr:nth-child(7)").style.display="none");const n=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div:nth-child(4) > div > div > a:nth-child(1) > div.DiscussionCard__middle > div.DiscussionCard__stats");n&&(n.style.display="none",document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div:nth-child(4) > div > div > a:nth-child(1) > div.DiscussionCard__middle > div.DiscussionCard__metaRow > span").textContent="Quotes");const o=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div:nth-child(4) > div > div > a:nth-child(2) > div.DiscussionCard__middle > div.DiscussionCard__stats");o&&(o.style.display="none",document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div:nth-child(4) > div > div > a:nth-child(2) > div.DiscussionCard__middle > div.DiscussionCard__metaRow > span").textContent="Discussions");const a=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div:nth-child(4) > div > div > a:nth-child(3) > div.DiscussionCard__middle > div.DiscussionCard__stats");a&&(a.style.display="none",document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div:nth-child(4) > div > div > a:nth-child(3) > div.DiscussionCard__middle > div.DiscussionCard__metaRow > span").textContent="Questions"),e.length>0&&e.forEach((e=>{e.querySelectorAll("div.CollectionCard__subText:not(.hidden-by-script)").forEach((e=>{e.setAttribute("style","display: none !important; visibility: hidden !important;"),e.classList.add("hidden-by-script")}))})),i.length>0&&i.forEach((e=>{e.querySelectorAll("div.listFullDetails").forEach((e=>{e.setAttribute("style","display: none !important; visibility: hidden !important;"),e.classList.add("hidden-by-script")}))}));const d=document.querySelector("div.choiceWidget__votesCast");d&&d.remove();const r=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div.BookPage__gridContainer > div.BookPage__rightColumn > div.BookPage__mainContent > div.BookPageMetadataSection > div.BookPageMetadataSection__ratingStats > a > div:nth-child(2) > div");r&&(r.textContent="")})).observe(document.body,{childList:!0,subtree:!0}),function(){const e="processed-by-script";new MutationObserver((()=>{const i=document.querySelector("#ReviewsSection");if(i){const t=i.querySelectorAll(`div.ReviewerProfile__meta:not(.${e})`),n=i.querySelectorAll(`div.SocialFooter__statsContainer:not(.${e})`),o=i.querySelectorAll(`span.RatingStars:not(.${e})`);t.forEach((i=>{i.style.display="none",i.classList.add(e)})),n.forEach((i=>{i.style.display="none",i.classList.add(e)})),o.forEach((i=>{i.remove(),i.classList.add(e)}))}const t=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div.BookPage__gridContainer > div.BookPage__rightColumn > div.BookPage__mainContent > div.BookPageMetadataSection > div.PageSection > div.AuthorPreview > div > div.FeaturedPerson__profile > div.FeaturedPerson__container > div.FeaturedPerson__info > div.FeaturedPerson__infoPrimary > span");t&&(t.style.display="none");const n=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div.BookPage__gridContainer > div.BookPage__rightColumn > div.BookPage__mainContent > div.BookPageMetadataSection > div.BookPageMetadataSection__ratingStats > a > div:nth-child(1)");n&&(n.textContent="");const o=document.querySelector("#ReviewsSection > div:nth-child(7) > div.ReviewsSectionStatistics > div.ReviewsSectionStatistics__ratingStatistics > div");o&&(o.style.display="none");const a=document.querySelector("#ReviewsSection > div:nth-child(7) > div.ReviewsSectionStatistics");a&&(a.style.display="none");const d=document.querySelectorAll("div.BookCard"),r=document.querySelectorAll("div.communityRating");d.length>0&&d.forEach((e=>{e.querySelectorAll("div.AverageRating:not(.hidden-by-script)").forEach((e=>{e.setAttribute("style","display: none !important; visibility: hidden !important;"),e.classList.add("hidden-by-script")})),e.querySelectorAll("div.BookCard__series:not(.hidden-by-script)").forEach((e=>{e.setAttribute("style","display: none !important; visibility: hidden !important;"),e.classList.add("hidden-by-script")}))})),r.length>0&&(console.log("Ratings found"),r.forEach((e=>{e.setAttribute("style","display: none !important; visibility: hidden !important;"),e.classList.add("hidden-by-script"),e.remove()})));const s=document.querySelector("#__next > div.PageFrame.PageFrame--siteHeaderBanner > main > div.BookPage__gridContainer > div.BookPage__rightColumn > div.BookPage__mainContent > div.BookPageMetadataSection > div.BookPageMetadataSection__ratingStats > a > div:nth-child(2) > div");s&&(s.textContent="");const c=document.querySelector("div.choiceWidget__votesCast");c&&c.remove()})).observe(document.body,{childList:!0,subtree:!0})}(),chrome.storage.sync.get("readingChallengeEnabled",(i=>{i.readingChallengeEnabled&&e()})),chrome.runtime.onMessage.addListener(((i,t,n)=>{"statusReadingChallenge"===i.action&&(console.log("Message reçu :",i),i.enabled?e():console.log("Reading Challenge désactivé."))}))})();